import{c as T}from"./common/_commonjsHelpers-eb5a497e.js";var h=function(t,e,o){return t instanceof HTMLCollection||t instanceof NodeList||t instanceof Array?Array.prototype.forEach.call(t,e,o):e.call(o,t)},S=function(t){var e=t.text||t.textContent||t.innerHTML||"",o=t.src||"",n=t.parentNode||document.querySelector("head")||document.documentElement,r=document.createElement("script");if(e.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Can\u2019t be executed correctly. Code skipped ",t),!1;if(r.type="text/javascript",r.id=t.id,o!==""&&(r.src=o,r.async=!1),e!=="")try{r.appendChild(document.createTextNode(e))}catch(a){r.text=e}return n.appendChild(r),(n instanceof HTMLHeadElement||n instanceof HTMLBodyElement)&&n.contains(r)&&n.removeChild(r),!0},P=function(t){t.tagName.toLowerCase()==="script"&&S(t),h(t.querySelectorAll("script"),function(e){(!e.type||e.type.toLowerCase()==="text/javascript")&&(e.parentNode&&e.parentNode.removeChild(e),S(e))})},m=function(t,e,o,n){e=typeof e=="string"?e.split(" "):e,e.forEach(function(r){h(t,function(a){a.addEventListener(r,o,n)})})},w={outerHTML:function(t,e){t.outerHTML=e.outerHTML,this.onSwitch()},innerHTML:function(t,e){t.innerHTML=e.innerHTML,e.className===""?t.removeAttribute("class"):t.className=e.className,this.onSwitch()},switchElementsAlt:function(t,e){if(t.innerHTML=e.innerHTML,e.hasAttributes())for(var o=e.attributes,n=0;n<o.length;n++)t.attributes.setNamedItem(o[n].cloneNode());this.onSwitch()},replaceNode:function(t,e){t.parentNode.replaceChild(e,t),this.onSwitch()},sideBySide:function(t,e,o,n){var r=Array.prototype.forEach,a=[],i=[],l=document.createDocumentFragment(),u="animationend webkitAnimationEnd MSAnimationEnd oanimationend",s=0,f=function(c){if(c.target!==c.currentTarget)return;s--,s<=0&&a&&(a.forEach(function(d){d.parentNode&&d.parentNode.removeChild(d)}),i.forEach(function(d){d.className=d.className.replace(d.getAttribute("data-pjax-classes"),""),d.removeAttribute("data-pjax-classes")}),i=null,a=null,this.onSwitch())}.bind(this);n=n||{},r.call(t.childNodes,function(c){a.push(c),c.classList&&!c.classList.contains("js-Pjax-remove")&&(c.hasAttribute("data-pjax-classes")&&(c.className=c.className.replace(c.getAttribute("data-pjax-classes"),""),c.removeAttribute("data-pjax-classes")),c.classList.add("js-Pjax-remove"),n.callbacks&&n.callbacks.removeElement&&n.callbacks.removeElement(c),n.classNames&&(c.className+=" "+n.classNames.remove+" "+(o.backward?n.classNames.backward:n.classNames.forward)),s++,m(c,u,f,!0))}),r.call(e.childNodes,function(c){if(c.classList){var d="";n.classNames&&(d=" js-Pjax-add "+n.classNames.add+" "+(o.backward?n.classNames.forward:n.classNames.backward)),n.callbacks&&n.callbacks.addElement&&n.callbacks.addElement(c),c.className+=d,c.setAttribute("data-pjax-classes",d),i.push(c),l.appendChild(c),s++,m(c,u,f,!0)}}),t.className=e.className,t.appendChild(l)}},N=function(t){return t=t||{},t.elements=t.elements||"a[href], form[action]",t.selectors=t.selectors||["title",".js-Pjax"],t.switches=t.switches||{},t.switchesOptions=t.switchesOptions||{},t.history=typeof t.history=="undefined"?!0:t.history,t.analytics=typeof t.analytics=="function"||t.analytics===!1?t.analytics:q,t.scrollTo=typeof t.scrollTo=="undefined"?0:t.scrollTo,t.scrollRestoration=typeof t.scrollRestoration!="undefined"?t.scrollRestoration:!0,t.cacheBust=typeof t.cacheBust=="undefined"?!0:t.cacheBust,t.debug=t.debug||!1,t.timeout=t.timeout||0,t.currentUrlFullReload=typeof t.currentUrlFullReload=="undefined"?!1:t.currentUrlFullReload,t.switches.head||(t.switches.head=w.switchElementsAlt),t.switches.body||(t.switches.body=w.switchElementsAlt),t};function q(){window._gaq&&_gaq.push(["_trackPageview"]),window.ga&&ga("send","pageview",{page:location.pathname,title:document.title})}var y=function(){var t=0;return function(){var e="pjax"+new Date().getTime()+"_"+t;return t++,e}}(),p=function(t,e,o){e=typeof e=="string"?e.split(" "):e,e.forEach(function(n){var r;r=document.createEvent("HTMLEvents"),r.initEvent(n,!0,!0),r.eventName=n,o&&Object.keys(o).forEach(function(a){r[a]=o[a]}),h(t,function(a){var i=!1;!a.parentNode&&a!==document&&a!==window&&(i=!0,document.body.appendChild(a)),a.dispatchEvent(r),i&&a.parentNode.removeChild(a)})})},v=function(t){if(t===null||typeof t!="object")return t;var e=t.constructor();for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e},L=function(e,o,n){for(var r=0;r<o.length;r++)for(var a=e.querySelectorAll(o[r]),i=0;i<a.length;i++)if(a[i].contains(n))return!0;return!1},j=function(t){if(t==null)return null;for(var e=Object(t),o=1;o<arguments.length;o++){var n=arguments[o];if(n!=null)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){},H=function(){this.options.debug&&console&&(typeof console.log=="function"?console.log.apply(console,arguments):console.log&&console.log(arguments))},x="data-pjax-state",U=function(t){switch(t.tagName.toLowerCase()){case"a":t.hasAttribute(x)||this.attachLink(t);break;case"form":t.hasAttribute(x)||this.attachForm(t);break;default:throw"Pjax can only be applied on <a> or <form> submit"}},g="data-pjax-state",E=function(t,e){if(M(e))return;var o=v(this.options),n=C(t,e);if(n){t.setAttribute(g,n);return}if(e.preventDefault(),this.options.currentUrlFullReload&&t.href===window.location.href.split("#")[0]){t.setAttribute(g,"reload"),this.reload();return}t.setAttribute(g,"load"),o.triggerElement=t,this.loadUrl(t.href,o)};function C(t,e){if(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return"modifier";if(t.protocol!==window.location.protocol||t.host!==window.location.host)return"external";if(t.hash&&t.href.replace(t.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(t.href===window.location.href.split("#")[0]+"#")return"anchor-empty"}var M=function(t){return t.defaultPrevented||t.returnValue===!1},k=function(t){var e=this;t.setAttribute(g,""),m(t,"click",function(o){E.call(e,t,o)}),m(t,"keyup",function(o){o.keyCode===13&&E.call(e,t,o)}.bind(this))},A="data-pjax-state",D=function(t,e){if(O(e))return;var o=v(this.options);o.requestOptions={requestUrl:t.getAttribute("action")||window.location.href,requestMethod:t.getAttribute("method")||"GET"};var n=document.createElement("a");n.setAttribute("href",o.requestOptions.requestUrl);var r=F(n,o);if(r){t.setAttribute(A,r);return}e.preventDefault(),t.enctype==="multipart/form-data"?o.requestOptions.formData=new FormData(t):o.requestOptions.requestParams=X(t),t.setAttribute(A,"submit"),o.triggerElement=t,this.loadUrl(n.href,o)};function X(t){for(var e=[],o=t.elements,n=0;n<o.length;n++){var r=o[n],a=r.tagName.toLowerCase();if(!!r.name&&r.attributes!==void 0&&a!=="button"){var i=r.attributes.type;if(!i||i.value!=="checkbox"&&i.value!=="radio"||r.checked){var l=[];if(a==="select")for(var u,s=0;s<r.options.length;s++)u=r.options[s],u.selected&&!u.disabled&&l.push(u.hasAttribute("value")?u.value:u.text);else l.push(r.value);for(var f=0;f<l.length;f++)e.push({name:encodeURIComponent(r.name),value:encodeURIComponent(l[f])})}}}return e}function F(t,e){if(t.protocol!==window.location.protocol||t.host!==window.location.host)return"external";if(t.hash&&t.href.replace(t.hash,"")===window.location.href.replace(location.hash,""))return"anchor";if(t.href===window.location.href.split("#")[0]+"#")return"anchor-empty";if(e.currentUrlFullReload&&t.href===window.location.href.split("#")[0])return"reload"}var O=function(t){return t.defaultPrevented||t.returnValue===!1},B=function(t){var e=this;t.setAttribute(A,""),m(t,"submit",function(o){D.call(e,t,o)})},I=function(t,e,o,n){n=n||document,t.forEach(function(r){h(n.querySelectorAll(r),e,o)})},$=function(t,e,o,n,r,a){var i=[];o.forEach(function(l){var u=n.querySelectorAll(l),s=r.querySelectorAll(l);if(this.log&&this.log("Pjax switch",l,u,s),u.length!==s.length)throw"DOM doesn\u2019t look the same on new loaded page: \u2019"+l+"\u2019 - new "+u.length+", old "+s.length;h(u,function(f,c){var d=s[c];this.log&&this.log("newEl",f,"oldEl",d);var R=t[l]?t[l].bind(this,d,f,a,e[l]):w.outerHTML.bind(this,d,f,a);i.push(R)},this)},this),this.state.numPendingSwitches=i.length,i.forEach(function(l){l()})},J=function(t){t&&t.readyState<4&&(t.onreadystatechange=b,t.abort())},_=function(t,e,o){var n=new RegExp("([?&])"+e+"=.*?(&|$)","i"),r=t.indexOf("?")!==-1?"&":"?";return t.match(n)?t.replace(n,"$1"+e+"="+o+"$2"):t+r+e+"="+o},K=function(t,e,o){e=e||{};var n,r=e.requestOptions||{},a=(r.requestMethod||"GET").toUpperCase(),i=r.requestParams||null,l=r.formData||null,u=null,s=new XMLHttpRequest,f=e.timeout||0;if(s.onreadystatechange=function(){s.readyState===4&&(s.status===200?o(s.responseText,s,t,e):s.status!==0&&o(null,s,t,e))},s.onerror=function(c){console.log(c),o(null,s,t,e)},s.ontimeout=function(){o(null,s,t,e)},i&&i.length){n=i.map(function(c){return c.name+"="+c.value}).join("&");switch(a){case"GET":t=t.split("?")[0],t+="?"+n;break;case"POST":u=n;break}}else l&&(u=l);return e.cacheBust&&(t=_(t,"t",Date.now())),s.open(a,t,!0),s.timeout=f,s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("X-PJAX","true"),s.setRequestHeader("X-PJAX-Selectors",JSON.stringify(e.selectors)),u&&a==="POST"&&!l&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(u),s},V=function(t,e,o,n){if(n=v(n||this.options),n.request=e,t===!1){p(document,"pjax:complete pjax:error",n);return}var r=window.history.state||{};window.history.replaceState({url:r.url||window.location.href,title:r.title||document.title,uid:r.uid||y(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);var a=o;e.responseURL?o!==e.responseURL&&(o=e.responseURL):e.getResponseHeader("X-PJAX-URL")?o=e.getResponseHeader("X-PJAX-URL"):e.getResponseHeader("X-XHR-Redirected-To")&&(o=e.getResponseHeader("X-XHR-Redirected-To"));var i=document.createElement("a");i.href=a;var l=i.hash;i.href=o,l&&!i.hash&&(i.hash=l,o=i.href),this.state.href=o,this.state.options=n;try{this.loadContent(t,n)}catch(u){if(p(document,"pjax:error",n),this.options.debug)throw u;return console&&console.error&&console.error("Pjax switch fail: ",u),this.latestChance(o)}},G=function(){return window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/)},z=T(function(t){var e=function(r){this.state={numPendingSwitches:0,href:null,options:null},this.options=N(r),this.log("Pjax options",this.options),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=y(),this.parseDOM(document),m(window,"popstate",function(a){if(a.state){var i=v(this.options);i.url=a.state.url,i.title=a.state.title,i.history=!1,i.scrollPos=a.state.scrollPos,a.state.uid<this.lastUid?i.backward=!0:i.forward=!0,this.lastUid=a.state.uid,this.loadUrl(a.state.url,i)}}.bind(this))};if(e.switches=w,e.prototype={log:H,getElements:function(r){return r.querySelectorAll(this.options.elements)},parseDOM:function(r){var a=U;h(this.getElements(r),a,this)},refresh:function(r){this.parseDOM(r||document)},reload:function(){window.location.reload()},attachLink:k,attachForm:B,forEachSelectors:function(r,a,i){return I.bind(this)(this.options.selectors,r,a,i)},switchSelectors:function(r,a,i,l){return $.bind(this)(this.options.switches,this.options.switchesOptions,r,a,i,l)},latestChance:function(r){window.location=r},onSwitch:function(){p(window,"resize scroll"),this.state.numPendingSwitches--,this.state.numPendingSwitches===0&&this.afterAllSwitches()},loadContent:function(r,a){if(typeof r!="string"){p(document,"pjax:complete pjax:error",a);return}var i=document.implementation.createHTMLDocument("pjax"),l=/<html[^>]+>/gi,u=/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi,s=r.match(l);if(s&&s.length&&(s=s[0].match(u),s.length&&(s.shift(),s.forEach(function(f){var c=f.trim().split("=");c.length===1?i.documentElement.setAttribute(c[0],!0):i.documentElement.setAttribute(c[0],c[1].slice(1,-1))}))),i.documentElement.innerHTML=r,this.log("load content",i.documentElement.attributes,i.documentElement.innerHTML.length),document.activeElement&&L(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch(f){}this.switchSelectors(this.options.selectors,i,document,a)},abortRequest:J,doRequest:K,handleResponse:V,loadUrl:function(r,a){a=typeof a=="object"?j({},this.options,a):v(this.options),this.log("load href",r,a),this.abortRequest(this.request),p(document,"pjax:send",a),this.request=this.doRequest(r,a,this.handleResponse.bind(this))},afterAllSwitches:function(){var r=Array.prototype.slice.call(document.querySelectorAll("[autofocus]")).pop();r&&document.activeElement!==r&&r.focus(),this.options.selectors.forEach(function(f){h(document.querySelectorAll(f),function(c){P(c)})});var a=this.state;if(a.options.history&&(window.history.state||(this.lastUid=this.maxUid=y(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=y(),window.history.pushState({url:a.href,title:a.options.title,uid:this.maxUid,scrollPos:[0,0]},a.options.title,a.href)),this.forEachSelectors(function(f){this.parseDOM(f)},this),p(document,"pjax:complete pjax:success",a.options),typeof a.options.analytics=="function"&&a.options.analytics(),a.options.history){var i=document.createElement("a");if(i.href=this.state.href,i.hash){var l=i.hash.slice(1);l=decodeURIComponent(l);var u=0,s=document.getElementById(l)||document.getElementsByName(l)[0];if(s&&s.offsetParent)do u+=s.offsetTop,s=s.offsetParent;while(s);window.scrollTo(0,u)}else a.options.scrollTo!==!1&&(a.options.scrollTo.length>1?window.scrollTo(a.options.scrollTo[0],a.options.scrollTo[1]):window.scrollTo(0,a.options.scrollTo))}else a.options.scrollRestoration&&a.options.scrollPos&&window.scrollTo(a.options.scrollPos[0],a.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}},e.isSupported=G,e.isSupported())t.exports=e;else{var o=b;for(var n in e.prototype)e.prototype.hasOwnProperty(n)&&typeof e.prototype[n]=="function"&&(o[n]=b);t.exports=o}});export default z;
