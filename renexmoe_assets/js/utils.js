import s from"../../_snowpack/pkg/mdui.js";import i from"./lib/cookies.js";export default{$:s.$};export async function refresh(o){const e=new URL(o);e.search="?RefreshCache";const t=await fetch(e.href);return t.status===302||t.status===202}export async function logout(){i.removeItem("admin","/"),location.reload()}async function r(){let o=[];const e=document.querySelectorAll(".disk_name");for(let t of e)o.push({displayName:t.innerHTML,path:t.getAttribute("href"),DOM:t});return o}export async function GetDisk(o=globalThis.location.pathname){let e={diskList:await r()};for(let t of e.diskList)if(o.indexOf(t.path)>-1){e.this=t;break}return e.this||(e.this={displayName:"Home",path:"/",DOM:document.querySelector("#home")}),e.diskList.push({displayName:"Home",path:"/",DOM:document.querySelector("#home")}),e}
