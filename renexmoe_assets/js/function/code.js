import a from"../lib/highlight.js";import i from"../lib/marked.js";import r from"../lib/mdui.js";let l,t=!1;const s=()=>{console.log("renexmoe::Markdown::Start Markdown Render"),r.snackbar("\u89E3\u6790\u4E3AMarkdown\u4E2D\u2026\u2026");try{l=document.getElementById("code").innerText,i.setOptions({renderer:new i.Renderer,mangle:!1,highlight:function(o,e){const d=a.getLanguage(e)?e:"plaintext";return a.highlight(d,o).value},pedantic:!1,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});const n=i(l);document.getElementById("code").innerHTML=`<div class="mdui-typo">${n}</div>`,t=!0,console.log("renexmoe::Markdown::Render Fininsh")}catch(n){console.log("Not Markdown"),t=!1}},m=()=>import("../lib/highlight.js").then(({default:n})=>{document.getElementById("code")&&(console.log("renexmoe::Markdown::Start EventLister"),location.pathname.split("/")[location.pathname.split("/").length-1].split(".")[location.pathname.split("/")[location.pathname.split("/").length-1].split(".").length-1]==="md"&&s(),r.$(".highlight").each((o,e)=>{e.addEventListener("click",()=>{t?(document.getElementById("code").innerHTML=l,t=!1):s()})}))});export default m;
